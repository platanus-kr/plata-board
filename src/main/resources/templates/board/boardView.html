<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">
    <title th:text="${board_name}"></title>
</head>
<body>
<div class="container">
    <div class="board_title">
        <h2 th:text="${board_name}"></h2>
    </div>
    <div class="board_view">

        <div class="title">제목 : <span th:text="${article.title}"></span></div>
        <div class="article_metadata">
            <div class="author">글쓴이 : <span th:text="${article.authorNickname}"></span></div>
            <div class="author">글 쓴 시간 : <span
                    th:text="${#temporals.format(article.createdDate, 'MM/dd HH:mm:ss')}"></span></div>
            <div class="author">수정한 시간 : <span
                    th:text="${#temporals.format(article.modifiedDate, 'MM/dd HH:mm:ss')}"></span></div>
        </div>
        <div class="article_content">
            <pre th:text="${article.content}"></pre>
        </div>
    </div>
    <hr/>
    <div class="comment_view">
        <div class="comments" th:each="comment: ${comments}">
            <div class="comment">
                <div class="metadata">
                    <div class="author">글쓴이 : <span th:text="${comment.authorNickname}"></span></div>
                    <div class="author">글 쓴 시간 : <span
                            th:text="${#temporals.format(comment.createdDate, 'MM/dd HH:mm:ss')}"></span></div>
                    <div class="author">수정한 시간 : <span
                            th:text="${#temporals.format(comment.modifiedDate, 'MM/dd HH:mm:ss')}"></span></div>
                </div>
                <div class="content">
                    <pre th:text="${comment.content}"></pre>
                </div>
                <span th:if="${user != null}">
                <div th:if="${user.getId() == comment.getAuthorId()}" class="control">
                    <a class="btn btn-primary btn-floating m-1"
                       th:href="@{|/comment/${comment.getId()}/delete|}" role="button">
                        삭제
                    </a>
                </div>
                </span>
            </div>
            <hr/>
        </div>
    </div>
    <div th:if="${user != null}" class="comment_write">
        <form id="comment_write" method="post">
            <div>
                <label for="commentContent">내용</label>
                <textarea type="text" id="commentContent" name="comment" class="form-control"
                          placeholder="댓글 내용을 입력하세요"></textarea>
            </div>
            <div>
                <button class="w-100 btn btn-primary btn-lg" type="submit">댓글 저장</button>
            </div>
        </form>
    </div>
    <div class="board_button">
        <a class="btn btn-primary btn-floating m-1"
           th:href="@{|/board/${board_id}/write|}" role="button">
            글쓰기
        </a>
        <span th:if="${user != null}">
        <a th:if="${user.getId() == article.getAuthorId()}" class="btn btn-primary btn-floating m-1"
           th:href="@{|/article/${article_id}/modify|}" role="button">
            수정하기
        </a>
        <a th:if="${user.getId() == article.getAuthorId()}" class="btn btn-primary btn-floating m-1"
           th:href="@{|/article/${article_id}/delete|}" role="button">
            삭제하기
        </a>
        </span>
        <a class="btn btn-primary btn-floating m-1"
           th:href="@{|/board/${board_id}|}" role="button">
            목록보기
        </a>
    </div>
</div>
</body>
</html>